import { Repository, EntityManager, DataSource } from 'typeorm';
import { User, UserStatus } from './entities/user.entity';
import { RegisterUserDto } from './dto/register-user.dto';
import { LoginUserDto } from './dto/login-user.dto';
import { JwtService } from '@nestjs/jwt';
import { ConfigService } from '@nestjs/config';
import { Plan } from '../billing/entities/plan.entity';
import { Subscription } from '../billing/entities/subscription.entity';
import { UsageStorage } from '../billing/entities/usage-storage.entity';
import { UpdateUserDto } from './dto/update-user.dto';
import { AdminUpdateUserDto } from './dto/admin-update-user.dto';
import { UsageMonthly } from '../billing/entities/usage-monthly.entity';
import { Image } from '../images/entities/image.entity';
import { Brand } from '../brand/entities/brand.entity';
import { Template } from '../template/entities/template.entity';
export declare class UserService {
    private userRepository;
    private planRepository;
    private subscriptionRepository;
    private usageStorageRepository;
    private usageMonthlyRepository;
    private imageRepository;
    private brandRepository;
    private templateRepository;
    private jwtService;
    private configService;
    private entityManager;
    private dataSource;
    constructor(userRepository: Repository<User>, planRepository: Repository<Plan>, subscriptionRepository: Repository<Subscription>, usageStorageRepository: Repository<UsageStorage>, usageMonthlyRepository: Repository<UsageMonthly>, imageRepository: Repository<Image>, brandRepository: Repository<Brand>, templateRepository: Repository<Template>, jwtService: JwtService, configService: ConfigService, entityManager: EntityManager, dataSource: DataSource);
    create(registerUserDto: RegisterUserDto): Promise<User>;
    findByEmail(email: string): Promise<User | null>;
    findById(id: string): Promise<User | null>;
    validateUser(loginUserDto: LoginUserDto): Promise<User>;
    updateLastLogin(userId: string): Promise<void>;
    verifyEmail(token: string): Promise<User>;
    requestPasswordReset(email: string): Promise<void>;
    resetPassword(token: string, newPassword: string): Promise<void>;
    generateApiKey(userId: string): Promise<string>;
    findByApiKey(apiKey: string): Promise<User | null>;
    findAll(): Promise<User[]>;
    getTemplatesCount(userId: string): Promise<number>;
    getBrandsCount(userId: string): Promise<number>;
    updateUser(userId: string, updateData: Partial<User>): Promise<User>;
    deleteUser(userId: string): Promise<void>;
    update(id: string, updateUserDto: UpdateUserDto): Promise<User>;
    adminUpdate(id: string, updateUserDto: AdminUpdateUserDto): Promise<User>;
    changePassword(userId: string, currentPassword: string, newPassword: string): Promise<void>;
    updateStatus(id: string, status: UserStatus): Promise<User>;
    delete(id: string): Promise<void>;
    changeUserPlan(userId: string, planId: string): Promise<User>;
}
